new entry "Shout_LODDeathsCloak"
type "SpellData"
data "SpellType" "Shout"
using "Shout_LODDeathsCloak"
data "SpellSuccess" "DealDamage(2d6,Necrotic,Magical); RegainHitPoints(SELF,(DamageDone));RegainHitPoints(SELF,(DamageDone),Undead);ApplyStatus(LOD_APOPTOSIS,100,3)"
data "SpellFail" "DealDamage((2d6)/2, Necrotic,Magical); RegainHitPoints(SELF,(DamageDone));RegainHitPoints(SELF,(DamageDone),Undead)"

new entry "Projectile_LODGrimTouch"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_LODGrimTouch"
data "SpellSuccess" "TARGET:IF(not Grounded() and TargetSizeEqualOrSmaller(Size.Large)):Force(-3, OriginToEntity, Neutral, false, true); DealDamage(1d8, Necrotic,Magical);RegainHitPoints(SELF,(DamageDone));RegainHitPoints(SELF,(DamageDone),Undead)"

new entry "LODPassive_ReaperScythe"
type "PassiveData"
using "LODPassive_ReaperScythe"
data "StatsFunctors" "RegainHitPoints(SELF,(DamageDone));RegainHitPoints(SELF,(DamageDone),Undead)"

new entry "LODPassive_ReaperScytheII"
type "PassiveData"
using "LODPassive_ReaperScytheII"
data "StatsFunctors" "RegainHitPoints(SELF,(DamageDone)/2);RegainHitPoints(SELF,(DamageDone)/2,Undead)"

new entry "LODPassive_DeathlessFeature"
type "PassiveData"
using "LODPassive_DeathlessFeature"
data "StatsFunctors" "RegainHitPoints(MaxHP);RegainHitPoints(MaxHP,Undead)"

new entry "Target_LODGrimBlade"
type "SpellData"
data "SpellType" "Target"
using "Target_LODGrimBlade"
data "SpellSuccess" "DealDamage(MainMeleeWeapon/2, MainMeleeWeaponDamageType);ExecuteWeaponFunctors(MainHand);DealDamage(LevelMapValue(D10Cantrip),Necrotic,Magical);IF(not HasStatus('LOD_APOPTOSIS',context.Target) and ConditionResult(context.Source.Level > 6)):ApplyStatus(LOD_APOPTOSIS,100,1, , , ,not SavingThrow(Ability.Constitution, SourceSpellDC()));IF(ConditionResult(context.Source.Level > 11)):RegainHitPoints(SELF,(DamageDone)/2);IF(ConditionResult(context.Source.Level > 11)):RegainHitPoints(SELF,(DamageDone)/2,Undead)"

new entry "Target_LODDevour"
type "SpellData"
data "SpellType" "Target"
using "Target_LODDevour"
data "SpellProperties" "TARGET:SwitchDeathType(Explode);IF (not HasStatus('LOD_BLOODLUST_SATED')):ApplyStatus(SELF,LOD_BLOODLUST_SATED,100,-1);ApplyStatus(CORPSE_SWITCH_EXPLODE,100,-1);RegainHitPoints(SELF, 50);RegainHitPoints(SELF, 50,Undead);ApplyStatus(SELF,MADHARVEST,100,5)"
